(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/fastfabu"],{"2d21":function(t,e,i){"use strict";i.r(e);var a=i("623b"),s=i("be69");for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);i("c949");var n=i("2877"),r=Object(n["a"])(s["default"],a["a"],a["b"],!1,null,null,null);e["default"]=r.exports},"623b":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement;t._self._c},s=[];i.d(e,"a",function(){return a}),i.d(e,"b",function(){return s})},6409:function(t,e,i){"use strict";(function(t){i("2899"),i("921b");a(i("66fd"));var e=a(i("2d21"));function a(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,i("6e42")["createPage"])},"71c0":function(t,e,i){"use strict";(function(t,a){var s,o;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i("5771"),r=i("48ee"),c=function(){return i.e("components/dateTime/dateTime").then(i.bind(null,"fbc8"))},d={components:{tuiDatetime:c},data:function(){return{from:"",className:[],text:'<div class="text-red">年检代办</div>',imgList:[],address:"",desc2:"",form:{ordersn:"",obj_type:"",content:"",image:"",formId:"",address:"",link_man:"",link_mobile:"",province:"",city:"",district:"",district_code:"",longitude:"",latitude:"",pickup_service:0,car_get_longitude:"",car_get_latitude:"",car_get_time:"",car_get_address:"",car_back_longitude:"",car_back_latitude:"",car_back_time:"",car_back_address:""},switched:!1,datapic:!1,currentDate:(new Date).getTime(),timetype:1,addressType:1,type:1,startYear:1980,endYear:2030,cancelColor:"#888",color:"#5677fc",setDateTime:"",result:""}},onLoad:function(e){s=this,this.from=e.from,s.initCOS(),t.getLocation({type:"wgs84",altitude:!0,geocode:!0,success:function(t){console.log(a(t," at pages\\index\\fastfabu.vue:191")),s.form.latitude=t.latitude,s.form.longitude=t.longitude,s.$api.get("https://api.map.baidu.com/reverse_geocoding/v3/?ak=Ulna6HAk7FsVuGeG4aOsV1wWZtxcosrC&output=json&coordtype=wgs84ll&location="+t.latitude+","+t.longitude,function(t){s.form.address=t.result.formatted_address,s.form.province=t.result.addressComponent.province,s.form.city=t.result.addressComponent.city,s.form.district=t.result.addressComponent.district,s.form.district_code=t.result.addressComponent.adcode})}}),this.$api.postWithData(this.api.bidCategoryList,{pid:0,has_child:1},function(t){s.className=t.data,0==e.type?(s.form.obj_type=s.className[0].id,s.desc2=s.className[0].desc2):s.$api.postWithData(s.api.taskDetail,{task_id:e.task_id},function(t){s.form=t.data,s.onEditorReady();var e=s.form.image.split(",");if(""!=e[0])for(var i=0;i<e.length;i++)s.imgList.push(e[i]);0==s.form.pickup_service?s.switched=!1:s.switched=!0})})},methods:{show:function(t){this.timetype=t,this.cancelColor="#888",this.color="#5677fc",this.startYear=1980,this.endYear=2030,this.type=1,this.setDateTime=r.formatDate((new Date).getTime(),"YY-MM-DD hh-mm"),this.$refs.dateTime.show()},change:function(t){console.log(a(t," at pages\\index\\fastfabu.vue:250"));t.result;1==this.timetype?this.form.car_get_time=t.result:this.form.car_back_time=t.result},onEditorReady:function(){var e=this;t.createSelectorQuery().select("#editor").context(function(t){e.editorCtx=t.context,e.editorCtx.insertText({text:s.form.content})}).exec()},setAdd:function(e){t.chooseLocation({success:function(t){1==e?(s.form.car_get_latitude=t.latitude,s.form.car_get_longitude=t.longitude,s.form.car_get_address=t.address):2==e?(s.form.car_back_latitude=t.latitude,s.form.car_back_longitude=t.longitude,s.form.car_back_address=t.address):3==e&&(s.form.latitude=t.latitude,s.form.longitude=t.longitude,s.form.address=t.address)}})},SwitchA:function(t){this.switched=t.detail.value,this.switched?this.form.pickup_service=1:this.form.pickup_service=0},initCOS:function(){o=new n({Bucket:s.api.Bucket,Region:s.api.Region,getAuthorization:function(t,e){console.log(a(t," at pages\\index\\fastfabu.vue:301")),s.$api.postWithData(s.api.qcloud_key,{bucket:t.Bucket,region:t.Region},function(t){var i=t.credentials;e({TmpSecretId:i.tmpSecretId,TmpSecretKey:i.tmpSecretKey,XCosSecurityToken:i.sessionToken,ExpiredTime:t.expiredTime})})}})},submitForm:function(e){this.form.formId=e.detail.formId;var i=s.form.content,o=i.replace("\n","");if(this.form.content=o,""!=this.form.content)if(""!=this.form.address)if(""!=this.form.link_man)if(""!=this.form.link_mobile){for(var n="",r=0;r<this.imgList.length;r++)r<this.imgList.length-1?n+=this.imgList[r]+",":n+=this.imgList[r];this.form.image=n,this.$api.postWithData(this.api.publishbid,this.form,function(e){console.log(a(e," at pages\\index\\fastfabu.vue:352")),1==e.code&&(s.$api.msg(e.msg),setTimeout(function(){"home"==s.from?t.redirectTo({url:"../mine/publishbid"}):(s.$eventBus.$emit("myTaskList"),t.navigateBack())},3e3))})}else this.$api.msg("请填写联系电话");else this.$api.msg("请填写联系人");else this.$api.msg("请选择地址");else this.$api.msg("请填写描述内容")},checkClass:function(t){this.form.obj_type=this.className[t].id,this.desc2=this.className[t].desc2},textareaAInput:function(t){this.form.content=t.detail.text},getNowAddress:function(){t.chooseLocation({success:function(t){s.form.longitude=t.longitude,s.form.latitude=t.latitude,s.form.address=t.address,console.log(a(t.address," at pages\\index\\fastfabu.vue:382"))}})},ViewImage:function(e){t.previewImage({urls:this.imgList,current:e.currentTarget.dataset.url})},DelImg:function(e){var i=this;t.showModal({title:"温馨提示！",content:"确定要删除吗？",cancelText:"取消",confirmText:"确定",success:function(t){t.confirm&&i.imgList.splice(e.currentTarget.dataset.index,1)}})},doBefore:function(){console.log(a("doBefore"," at pages\\index\\fastfabu.vue:406"))},clk:function(e){var i=t.getSystemInfoSync(),a=i.windowWidth;i.windowHeight;this.$refs.avatar.fChooseImg(e,{selWidth:a-50+"px",selHeight:a-50+"px",expWidth:"800px",expHeight:"800px",inner:"true",canRotate:"false"})},doUpload:function(t){console.log(a(t.path," at pages\\index\\fastfabu.vue:423"));var e=t.path,i=new Date,n=i.getFullYear()+"",r=i.getMonth()+1+"",c=i.getDate()+"",d=n+r+c,u=i.getTime()+".png",f="uploads/"+d+"/"+u;console.log(a(f," at pages\\index\\fastfabu.vue:432")),o.postObject({Bucket:s.api.Bucket,Region:s.api.Region,Key:f,FilePath:e,onProgress:function(t){console.log(a(JSON.stringify(t)," at pages\\index\\fastfabu.vue:439"))}},function(t,e){console.log(a(t||e," at pages\\index\\fastfabu.vue:442")),console.log(a(s.api.UPLOAD_HOST+f," at pages\\index\\fastfabu.vue:443")),s.imgList.push(s.api.UPLOAD_HOST+f),console.log(a(s.imgList," at pages\\index\\fastfabu.vue:445"))})}}};e.default=d}).call(this,i("6e42")["default"],i("0de9")["default"])},be69:function(t,e,i){"use strict";i.r(e);var a=i("71c0"),s=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,function(){return a[t]})}(o);e["default"]=s.a},c949:function(t,e,i){"use strict";var a=i("e139"),s=i.n(a);s.a},e139:function(t,e,i){}},[["6409","common/runtime","common/vendor"]]]);