(global["webpackJsonp"] = global["webpackJsonp"] || []).push([["pages/home/quotedprice"],{

/***/ 260:
/*!************************************************************************************************!*\
  !*** C:/Users/Administrator/Desktop/App/cscb-h5/main.js?{"page":"pages%2Fhome%2Fquotedprice"} ***!
  \************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(createPage) {__webpack_require__(/*! uni-pages */ 4);__webpack_require__(/*! @dcloudio/uni-stat */ 5);

var _vue = _interopRequireDefault(__webpack_require__(/*! vue */ 2));
var _quotedprice = _interopRequireDefault(__webpack_require__(/*! ./pages/home/quotedprice.vue */ 261));function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}
createPage(_quotedprice.default);
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 1)["createPage"]))

/***/ }),

/***/ 261:
/*!*****************************************************************************!*\
  !*** C:/Users/Administrator/Desktop/App/cscb-h5/pages/home/quotedprice.vue ***!
  \*****************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _quotedprice_vue_vue_type_template_id_b554f222___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./quotedprice.vue?vue&type=template&id=b554f222& */ 262);
/* harmony import */ var _quotedprice_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./quotedprice.vue?vue&type=script&lang=js& */ 264);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _quotedprice_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _quotedprice_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__[key]; }) }(__WEBPACK_IMPORT_KEY__));
/* harmony import */ var _Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js */ 14);





/* normalize component */

var component = Object(_Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__["default"])(
  _quotedprice_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__["default"],
  _quotedprice_vue_vue_type_template_id_b554f222___WEBPACK_IMPORTED_MODULE_0__["render"],
  _quotedprice_vue_vue_type_template_id_b554f222___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"],
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "Desktop/App/cscb-h5/pages/home/quotedprice.vue"
/* harmony default export */ __webpack_exports__["default"] = (component.exports);

/***/ }),

/***/ 262:
/*!************************************************************************************************************!*\
  !*** C:/Users/Administrator/Desktop/App/cscb-h5/pages/home/quotedprice.vue?vue&type=template&id=b554f222& ***!
  \************************************************************************************************************/
/*! exports provided: render, staticRenderFns */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_hbuilderx_packages_webpack_uni_nvue_loader_lib_templateLoader_js_vue_loader_options_Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_17_0_Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_quotedprice_vue_vue_type_template_id_b554f222___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-hbuilderx/packages/webpack-uni-nvue-loader/lib/templateLoader.js??vue-loader-options!../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--17-0!../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib??vue-loader-options!../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./quotedprice.vue?vue&type=template&id=b554f222& */ 263);
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "render", function() { return _Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_hbuilderx_packages_webpack_uni_nvue_loader_lib_templateLoader_js_vue_loader_options_Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_17_0_Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_quotedprice_vue_vue_type_template_id_b554f222___WEBPACK_IMPORTED_MODULE_0__["render"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return _Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_hbuilderx_packages_webpack_uni_nvue_loader_lib_templateLoader_js_vue_loader_options_Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_17_0_Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_quotedprice_vue_vue_type_template_id_b554f222___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"]; });



/***/ }),

/***/ 263:
/*!***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-hbuilderx/packages/webpack-uni-nvue-loader/lib/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--17-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!C:/Users/Administrator/Desktop/App/cscb-h5/pages/home/quotedprice.vue?vue&type=template&id=b554f222& ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "render", function() { return render; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return staticRenderFns; });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ 264:
/*!******************************************************************************************************!*\
  !*** C:/Users/Administrator/Desktop/App/cscb-h5/pages/home/quotedprice.vue?vue&type=script&lang=js& ***!
  \******************************************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_quotedprice_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib!../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib??vue-loader-options!../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./quotedprice.vue?vue&type=script&lang=js& */ 265);
/* harmony import */ var _Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_quotedprice_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_quotedprice_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_quotedprice_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_quotedprice_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
 /* harmony default export */ __webpack_exports__["default"] = (_Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_quotedprice_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ 265:
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!C:/Users/Administrator/Desktop/App/cscb-h5/pages/home/quotedprice.vue?vue&type=script&lang=js& ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(uni) {Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0; //
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//

var that, cos;
var COS = __webpack_require__(/*! ../../utils/cos-wx-sdk-v5 */ 97);var _default =
{
  data: function data() {
    return {
      imgList: [],
      value: '', //项目名称
      list: {},
      wxgs: 0,
      modalName: null,
      orderInfo: {},
      form: {
        formId: '',
        task_id: 0,
        price: 0,
        items: [
        {
          "name": '默认项目(点击可修改)',
          "wxgs": '',
          "pjjg": '',
          "pjpp": "",
          "wxsj": '',
          "zbsj": "" }],


        files: '',
        desc: "" //维修建议
      } };

  },
  updated: function updated() {
    var delprice = 0;
    this.form.items.forEach(function (item, index) {
      delprice += parseFloat(item.wxgs == '' ? 0 : item.wxgs) + parseFloat(item.pjjg == '' ? 0 : item.pjjg);
    });
    this.form.price = this.toDecimal(delprice);
  },
  onLoad: function onLoad(e) {
    that = this;
    that.initCOS();
    this.form.task_id = e.task_id;
    if (e.type == 0) {//修改报价
      this.taskLogDetail();
      this.taskDetail();
    } else {//新增报价
      this.taskDetail();
    }
  },
  methods: {
    clk: function clk(index) {var _uni$getSystemInfoSyn =
      uni.getSystemInfoSync(),windowWidth = _uni$getSystemInfoSyn.windowWidth,windowHeight = _uni$getSystemInfoSyn.windowHeight;
      this.$refs.avatar.fChooseImg(index, {
        selWidth: windowWidth - 50 + "px",
        selHeight: windowWidth - 50 + "px",
        expWidth: "800px",
        expHeight: "800px",
        inner: index ? 'true' : 'true',
        canRotate: "false" });

    },
    doBefore: function doBefore() {
      console.log('doBefore');
    },
    doUpload: function doUpload(rsp) {
      console.log(rsp.path);
      var filePath = rsp.path;
      var date = new Date(),
      year = date.getFullYear() + "",
      month = date.getMonth() + 1 + "",
      day = date.getDate() + "",
      getNowFormatDate = year + month + day,
      filename = date.getTime() + ".png",
      fileKey = 'uploads/' + getNowFormatDate + '/' + filename;
      cos.postObject({
        Bucket: that.api.Bucket,
        Region: that.api.Region,
        Key: fileKey,
        FilePath: filePath,
        onProgress: function onProgress(info) {
          console.log(JSON.stringify(info));
        } },
      function (err, data) {
        console.log(err || data);
        // console.log(that.api.UPLOAD_HOST+fileKey);
        that.imgList.push(that.api.UPLOAD_HOST + fileKey);
        // console.log(that.imgList)
      });
      // this.$set(this.urls, rsp.index, rsp.path);
    },
    ViewImage: function ViewImage(e) {
      uni.previewImage({
        urls: this.imgList,
        current: e.currentTarget.dataset.url });

    },
    DelImg: function DelImg(e) {var _this = this;
      uni.showModal({
        title: '温馨提示！',
        content: '确定要删除吗？',
        cancelText: '取消',
        confirmText: '确定',
        success: function success(res) {
          if (res.confirm) {
            _this.imgList.splice(e.currentTarget.dataset.index, 1);
          }
        } });

    },
    initCOS: function initCOS() {
      cos = new COS({
        Bucket: that.api.Bucket,
        Region: that.api.Region,
        getAuthorization: function getAuthorization(options, callback) {
          console.log(options);
          that.$api.postWithData(that.api.qcloud_key, {
            bucket: options.Bucket,
            region: options.Region },

          function callbacks(res) {
            var credentials = res.credentials;
            callback({
              TmpSecretId: credentials.tmpSecretId,
              TmpSecretKey: credentials.tmpSecretKey,
              XCosSecurityToken: credentials.sessionToken,
              ExpiredTime: res.expiredTime });

          });
        } });

    },
    //获取报价数据
    taskLogDetail: function taskLogDetail() {
      this.$api.postWithData(this.api.taskLogDetail, { task_id: this.form.task_id },
      function callbacks(res) {
        that.form.desc = res.data.desc;
        that.form.items = JSON.parse(res.data.items);
        if (res.data.files != null) {
          var images = res.data.files.split(",");
          if (images[0] != '' && images[0] != null) {
            for (var i = 0; i < images.length; i++) {
              that.imgList.push(images[i]);
            }
          }
        }
      });
    },
    taskDetail: function taskDetail() {
      this.$api.postWithData(this.api.taskDetail, { task_id: this.form.task_id },
      function callbacks(res) {
        if (res.code == 0) {
          that.$api.msg("当前挂单已关闭或不存在");
          setTimeout(function () {
            uni.navigateBack();
          }, 2000);
          return;
        }
        that.orderInfo = res.data;
      });
    },
    showModal: function showModal(e) {
      this.modalName = e.currentTarget.dataset.target;
    },
    hideModal: function hideModal(e) {
      this.modalName = null;
    },
    openDialog: function openDialog() {
      this.modalName = 'DialogModal1';
    },
    deleteitem: function deleteitem(index) {
      var delprice = 0;
      // console.log(index)
      // var index = this.indexOf(this.form.items);
      if (index > -1) {
        this.form.items.splice(index, 1);
      }
      this.form.items.forEach(function (item, index) {
        // console.log(parseFloat(item.wxgs))
        delprice += parseFloat(item.wxgs == '' ? 0 : item.wxgs) + parseFloat(item.pjjg == '' ? 0 : item.pjjg);
        // console.log(toDecimal(delprice))
      });
      this.form.price = this.toDecimal(delprice);
    },
    confirm: function confirm() {
      if (this.value == '') {
        this.$api.msg('请填写项目名称');
        return;
      }
      var name = this.value;
      // console.log(name)
      this.list = {
        "name": name,
        "wxgs": '',
        "pjjg": '',
        "pjpp": "",
        "wxsj": '',
        "zbsj": ""

        // console.log(this.list.name)
      };this.form.items.push(this.list);
      this.value = '';
      this.modalName = null;
    },
    submit: function submit(e) {//提交价格
      console.log(e.detail.formId);
      this.form.formId = e.detail.formId;
      if (this.orderInfo.obj_type == 257) {
        for (var _i = 0; _i < this.form.items.length; _i++) {
          if (this.form.items[_i].name == '') {
            this.$api.msg("第" + (_i + 1) + "个项目名称不能为空");
            return;
          }
          if (this.form.items[_i].pjjg == '') {
            this.$api.msg("第" + (_i + 1) + "个保险价格不能为空");
            return;
          }
          if (this.form.items[_i].pjpp == '') {
            this.$api.msg("第" + (_i + 1) + "个保险公司不能为空");
            return;
          }
          if (this.form.items[_i].zbsj == '') {
            this.$api.msg("第" + (_i + 1) + "个保险有限期不能为空");
            return;
          }
        }
        var images = '';
        for (var i = 0; i < this.imgList.length; i++) {
          if (i < this.imgList.length - 1) {
            images += this.imgList[i] + ",";
          } else {
            images += this.imgList[i];
          }
        }
        this.form.files = images;
      } else {
        for (var _i2 = 0; _i2 < this.form.items.length; _i2++) {
          if (this.form.items[_i2].name == '') {
            this.$api.msg("第" + (_i2 + 1) + "个项目名称不能为空");
            return;
          }
          if (this.form.items[_i2].wxgs == '') {
            this.$api.msg("第" + (_i2 + 1) + "个维修工时不能为空");
            return;
          }
          if (this.form.items[_i2].pjjg == '') {
            this.$api.msg("第" + (_i2 + 1) + "个材料价格不能为空");
            return;
          }
          if (this.form.items[_i2].pjpp == '') {
            this.$api.msg("第" + (_i2 + 1) + "个材料品牌不能为空");
            return;
          }
          if (this.form.items[_i2].wxsj == '') {
            this.$api.msg("第" + (_i2 + 1) + "个维修时间不能为空");
            return;
          }
          if (this.form.items[_i2].zbsj == '') {
            this.$api.msg("第" + (_i2 + 1) + "个质保时间不能为空");
            return;
          }
        }
      }
      if (this.form.desc == '') {
        this.$api.msg("维修建议不能为空");
        return;
      }
      console.log(this.form);
      this.$api.postWithData(this.api.bidding,
      { task_id: this.form.task_id, items: JSON.stringify(this.form.items),
        price: this.form.price, files: this.form.files, desc: this.form.desc },
      function callbacks(res) {
        if (res.code == 1) {
          that.$api.msg(res.msg);
          uni.reLaunch({
            url: '../index/index' });

        }
      });
    },
    toDecimal: function toDecimal(x) {//四舍五入保留2位小数
      var f = parseFloat(x);
      if (isNaN(f)) {
        return;
      }
      f = Math.round(x * 100) / 100;
      return f;
    } } };exports.default = _default;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 1)["default"]))

/***/ })

},[[260,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/home/quotedprice.js.map