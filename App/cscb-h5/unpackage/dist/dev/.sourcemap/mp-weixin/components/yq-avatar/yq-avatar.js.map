{"version":3,"sources":["webpack:///C:/Users/Administrator/Desktop/App/cscb-h5-app/components/yq-avatar/yq-avatar.vue?3727","webpack:///C:/Users/Administrator/Desktop/App/cscb-h5-app/components/yq-avatar/yq-avatar.vue?fd7a","webpack:///C:/Users/Administrator/Desktop/App/cscb-h5-app/components/yq-avatar/yq-avatar.vue?db9d","webpack:///C:/Users/Administrator/Desktop/App/cscb-h5-app/components/yq-avatar/yq-avatar.vue?9c22","webpack:///C:/Users/Administrator/Desktop/App/cscb-h5-app/components/yq-avatar/yq-avatar.vue","webpack:///C:/Users/Administrator/Desktop/App/cscb-h5-app/components/yq-avatar/yq-avatar.vue?90a0"],"names":["__webpack_require__","r","__webpack_exports__","_yq_avatar_vue_vue_type_template_id_65b9ea13_name_yq_avatar___WEBPACK_IMPORTED_MODULE_0__","_yq_avatar_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__","__WEBPACK_IMPORT_KEY__","key","d","_Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__","component","Object","options","__file","_Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_hbuilderx_packages_webpack_uni_nvue_loader_lib_templateLoader_js_vue_loader_options_Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_17_0_Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_yq_avatar_vue_vue_type_template_id_65b9ea13_name_yq_avatar___WEBPACK_IMPORTED_MODULE_0__","render","staticRenderFns","_h","this","$createElement","s0","_self","_c","__get_style","imgStyle","$mp","data","assign","$root","_withStripped","_Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_yq_avatar_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__","_Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_yq_avatar_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default","n","name","cvsStyleHeight","styleDisplay","styleTop","prvTop","selStyle","showOper","imgSrc","btnWidth","btnDsp","watch","avatarSrc","props","avatarStyle","selWidth","selHeight","expWidth","expHeight","minScale","maxScale","canScale","canRotate","lockWidth","lockHeight","stretch","lock","noTab","inner","quality","index","created","_this","ctxCanvas","uni","createCanvasContext","ctxCanvasOper","ctxCanvasPrv","qlty","parseInt","letRotate","letScale","isin","indx","undefined","mnScale","mxScale","noBar","stc","lck","moreHeight","fWindowResize","showTabBar","complete","res","errMsg","methods","sysInfo","getSystemInfoSync","platform","pixelRatio","windowWidth","windowHeight","pxRatio","style","trim","split","obj","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","v","value","indexOf","arr","k","parseFloat","join","err","return","exportWidth","exportHeight","fDrawInit","fHideImg","fSelect","_this2","fSelecting","setTimeout","chooseImage","count","sizeType","sourceType","success","showLoading","mask","path","imgPath","tempFilePaths","getImageInfo","src","imgWidth","width","imgHeight","height","hasSel","showModal","title","showCancel","top","left","hideTabBar","fail","showToast","duration","hideLoading","fUpload","_this3","fUploading","x","y","canvasToTempFilePath","destWidth","destHeight","canvasId","fileType","tempFilePath","$emit","avatar","rtn","fPrvUpload","_this4","fPrvUploading","prvX","prvY","prvWidth","prvHeight","_this5","ini","arguments","length","allWidth","allHeight","imgRadio","useWidth","useHeight","fixWidth","fixHeight","lckWidth","lckHeight","scaleWidth","scaleHeight","scaleSize","rotateDeg","posWidth","posHeight","canvas","canvasOper","setLineWidth","setStrokeStyle","setGlobalAlpha","setFillStyle","strokeRect","fillRect","moveTo","lineTo","stroke","draw","fDrawImage","tm_now","Date","now","drawTm","translate","scale","rotate","Math","PI","drawImage","prvImg","prvImgData","target","fClose","fPreview","_this6","fPreviewing","prvImgTmp","radio","rHeight","fChooseImg","params","fRotate","fStart","e","touches","touch0","touch1","fgDistance","sqrt","fMove","beScaleSize","l","t","b","atan","beX","beY","abs","fEnd","fGetImgData","_this7","Promise","resolve","reject","canvasGetImageData","fColorChange","_fColorChange","_regenerator","default","mark","_callee","i","g","a","h","s","p","q","min","max","hK","tR","tG","tB","correctRGB","createRGB","wrap","_context","prev","prvTm","abrupt","catch","sent","Uint8ClampedArray","detail","round","canvasPutImageData","stop","_x2","apply","btop","base64","mime","match","bstr","atob","u8arr","Uint8Array","charCodeAt","window","URL","webkitURL","createObjectURL","Blob","type","_Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_1_Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_index_js_ref_6_oneOf_1_2_Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_stylePostLoader_js_Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_yq_avatar_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_1_Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_index_js_ref_6_oneOf_1_2_Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_stylePostLoader_js_Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_Downloads_HBuilderX_2_2_2_20190816_full_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_yq_avatar_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"components/yq-avatar/yq-avatar.js","sourcesContent":["import { render, staticRenderFns } from \"./yq-avatar.vue?vue&type=template&id=65b9ea13&name=yq-avatar&\"\nimport script from \"./yq-avatar.vue?vue&type=script&lang=js&\"\nexport * from \"./yq-avatar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./yq-avatar.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\Users\\\\Administrator\\\\Downloads\\\\HBuilderX.2.2.2.20190816.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('65b9ea13', component.options)\n    } else {\n      api.reload('65b9ea13', component.options)\n    }\n    module.hot.accept(\"./yq-avatar.vue?vue&type=template&id=65b9ea13&name=yq-avatar&\", function () {\n      api.rerender('65b9ea13', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"Desktop/App/cscb-h5-app/components/yq-avatar/yq-avatar.vue\"\nexport default component.exports","export * from \"-!../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-hbuilderx/packages/webpack-uni-nvue-loader/lib/templateLoader.js??vue-loader-options!../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./yq-avatar.vue?vue&type=template&id=65b9ea13&name=yq-avatar&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var s0 = _vm.__get_style([_vm.imgStyle])\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        s0: s0\n      }\n    }\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./yq-avatar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./yq-avatar.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nconst tabHeight = 50;\nexport default {\n\tname: \"yq-avatar\",\n\tdata() {\n\t\treturn {\n\t\t\tcvsStyleHeight: '0px',\n\t\t\tstyleDisplay: 'none',\n\t\t\tstyleTop: '-10000px',\n\t\t\tprvTop: '-10000px',\n\t\t\timgStyle: {},\n\t\t\tselStyle: {},\n\t\t\tshowOper: true,\n\t\t\timgSrc: {\n\t\t\t\timgSrc: ''\n\t\t\t},\n\t\t\tbtnWidth: '19%',\n\t\t\tbtnDsp: 'flex',\n\t\t};\n\t},\n\twatch: {\n\t\tavatarSrc() {\n\t\t\tthis.imgSrc.imgSrc = this.avatarSrc;\n\t\t}\n\t},\n\tprops:{\n\t\tavatarSrc: '',\n\t\tavatarStyle: '',\n\t\tselWidth: '',\n\t\tselHeight: '',\n\t\texpWidth: '',\n\t\texpHeight: '',\n\t\tminScale: '',\n\t\tmaxScale: '',\n\t\tcanScale: '',\n\t\tcanRotate: '',\n\t\tlockWidth: '',\n\t\tlockHeight: '',\n\t\tstretch: '',\n\t\tlock: '',\n\t\tnoTab: '',\n\t\tinner: '',\n\t\tquality: '',\n\t\tindex: '',\n\t},\n\tcreated() {\n\t\tthis.ctxCanvas = uni.createCanvasContext('avatar-canvas', this);\n\t\tthis.ctxCanvasOper = uni.createCanvasContext('oper-canvas', this);\n\t\tthis.ctxCanvasPrv = uni.createCanvasContext('prv-canvas', this);\n\t\tthis.qlty = parseInt(this.quality) || 0.9;\n\t\tthis.imgSrc.imgSrc = this.avatarSrc;\n\t\tthis.letRotate = (this.canRotate === 'false' || this.inner === 'true') ? 0 : 1;\n\t\tthis.letScale = this.canScale === 'false' ? 0 : 1;\n\t\tthis.isin = this.inner === 'true' ? 1 : 0;\n\t\tthis.indx = this.index || undefined;\n\t\tthis.mnScale = this.minScale || 0.3;\n\t\tthis.mxScale = this.maxScale || 4;\n\t\tthis.noBar = this.noTab === 'true' ? 1 : 0;\n\t\tthis.stc = this.stretch;\n\t\tthis.lck = this.lock;\n\t\tif(this.isin) {\n\t\t\tthis.btnWidth = '24%';\n\t\t\tthis.btnDsp = 'none';\n\t\t} else {\n\t\t\tthis.btnWidth = '19%';\n\t\t\tthis.btnDsp = 'flex';\n\t\t}\n\t\t\n\t\tif(this.noBar) {\n\t\t\tthis.moreHeight = 0;\n\t\t\tthis.fWindowResize();\n\t\t} else {\n\t\t\tuni.showTabBar({\n\t\t\t\tcomplete:(res) => {\n\t\t\t\t\tthis.moreHeight = (res.errMsg === 'showTabBar:ok') ? 50 : 0;\n\t\t\t\t\tthis.fWindowResize();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t},\n\tmethods: {\n\t\tfWindowResize() {\n\t\t\tlet sysInfo = uni.getSystemInfoSync();\n\t\t\tthis.platform = sysInfo.platform;\n\t\t\tthis.pixelRatio = sysInfo.pixelRatio;\n\t\t\tthis.windowWidth = sysInfo.windowWidth;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\t\t\tthis.windowHeight = sysInfo.windowHeight + this.moreHeight;\n\t\t\tthis.cvsStyleHeight = this.windowHeight - tabHeight - 2 + 'px';\n\n\t\t\tthis.pxRatio = this.windowWidth/750;\n\t\t\t\n\t\t\tlet style = this.avatarStyle;\n\t\t\tif(style && style !== true && (style=style.trim()) ) {\n\t\t\t\tstyle = style.split(';');\n\t\t\t\tlet obj = {};\n\t\t\t\tfor( let v of style ) {\n\t\t\t\t\tif(!v) continue;\n\t\t\t\t\tv = v.trim().split(':');\n\t\t\t\t\tif(v[1].indexOf('upx') >= 0) {\n\t\t\t\t\t\tlet arr = v[1].trim().split(' ');\n\t\t\t\t\t\tfor( let k in arr ) {\n\t\t\t\t\t\t\tif(!arr[k]) continue;\n\t\t\t\t\t\t\tif(arr[k].indexOf('upx') >= 0) {\n\t\t\t\t\t\t\t\tarr[k] = parseFloat(arr[k]) * this.pxRatio + 'px';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tv[1] = arr.join(' ');\n\t\t\t\t\t}\n\t\t\t\t\tobj[v[0].trim()] = v[1].trim();\n\t\t\t\t}\n\t\t\t\tthis.imgStyle = obj;\n\t\t\t}\n\t\t\t\n\t\t\tthis.expWidth && (this.exportWidth = this.expWidth.indexOf('upx') >= 0 ? parseInt(this.expWidth)*this.pxRatio : parseInt(this.expWidth));\n\t\t\tthis.expHeight && (this.exportHeight = this.expHeight.indexOf('upx') >= 0 ? parseInt(this.expHeight)*this.pxRatio : parseInt(this.expHeight));\n\t\t\t\n\t\t\tif(this.styleDisplay === 'flex') {\n\t\t\t\tthis.fDrawInit(true);\n\t\t\t}\n\t\t\tthis.fHideImg();\n\t\t},\n\t\tfSelect() {\n\t\t\tif(this.fSelecting) return;\n\t\t\tthis.fSelecting = true;\n\t\t\tsetTimeout(()=>{ this.fSelecting = false; }, 500);\n\t\t\t\n\t\t\tuni.chooseImage({\n\t\t\t\tcount: 1,\n\t\t\t\tsizeType: ['compressed'],\n\t\t\t\tsourceType: ['album', 'camera'],\n\t\t\t\tsuccess: (r)=>{\n\t\t\t\t\tuni.showLoading({ mask: true });\n\t\t\t\t\tlet path = this.imgPath = r.tempFilePaths[0];\n\t\t\t\t\tuni.getImageInfo({\n\t\t\t\t\t\tsrc: path,\n\t\t\t\t\t\tsuccess: r => {\n\t\t\t\t\t\t\tthis.imgWidth = r.width;\n\t\t\t\t\t\t\tthis.imgHeight = r.height;\n\t\t\t\t\t\t\tthis.path = path;\n\t\t\t\t\t\t\tif( !this.hasSel ) {\n\t\t\t\t\t\t\t\tlet style = this.selStyle || {};\n\t\t\t\t\t\t\t\tif( this.selWidth && this.selHeight ) {\n\t\t\t\t\t\t\t\t\tlet selWidth  = this.selWidth.indexOf('upx')  >= 0 ? parseInt(this.selWidth)  * this.pxRatio: parseInt(this.selWidth),\n\t\t\t\t\t\t\t\t\t\tselHeight = this.selHeight.indexOf('upx') >= 0 ? parseInt(this.selHeight) * this.pxRatio: parseInt(this.selHeight);\n\t\t\t\t\t\t\t\t\tstyle.width = selWidth + 'px';\n\t\t\t\t\t\t\t\t\tstyle.height = selHeight + 'px';\n\t\t\t\t\t\t\t\t\tstyle.top = (this.windowHeight - selHeight - tabHeight)/2 + 'px';\n\t\t\t\t\t\t\t\t\tstyle.left = (this.windowWidth - selWidth)/2 + 'px';\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\t\t\t\ttitle: '裁剪框的宽或高没有设置',\n\t\t\t\t\t\t\t\t\t\tshowCancel: false\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthis.selStyle = style;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif(\tthis.noBar ) {\n\t\t\t\t\t\t\t\tthis.fDrawInit(true);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tuni.hideTabBar({\n\t\t\t\t\t\t\t\t\tcomplete: () => {\n\t\t\t\t\t\t\t\t\t\tthis.fDrawInit(true);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfail: ()=>{\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: \"error3\",\n\t\t\t\t\t\t\t\tduration: 2000,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcomplete() {\n\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tfUpload() {\n\t\t\t\n\t\t\tif(this.fUploading)\treturn;\n\t\t\tthis.fUploading = true;\n\t\t\tsetTimeout(()=>{ this.fUploading = false; }, 1000)\n\t\t\t\n\t\t\tlet style = this.selStyle,\n\t\t\t\tx = parseInt(style.left),\n\t\t\t\ty = parseInt(style.top),\n\t\t\t\twidth = parseInt(style.width),\n\t\t\t\theight = parseInt(style.height),\n\t\t\t\texpWidth = this.exportWidth || width,\n\t\t\t\texpHeight = this.exportHeight || height;\n\t\t\t\t\n\n\n\n\n\n\n\t\t\tuni.showLoading({ mask: true });\n\t\t\tthis.styleDisplay = 'none';\n\t\t\tthis.styleTop = '-10000px';\n\t\t\tthis.hasSel = false;\n\t\t\tthis.fHideImg();\n\t\t\tuni.canvasToTempFilePath({\n\t\t\t\tx: x,\n\t\t\t\ty: y,\n\t\t\t\twidth: width,\n\t\t\t\theight: height,\n\t\t\t\tdestWidth: expWidth,\n\t\t\t\tdestHeight: expHeight,\n\t\t\t\tcanvasId: 'avatar-canvas',\n\t\t\t\tfileType: 'png',\n\t\t\t\tquality: this.qlty,\n\t\t\t\tsuccess: (r)=>{\n\t\t\t\t\tr = r.tempFilePath;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\t\t\t\t\tthis.$emit(\"upload\", {avatar: this.imgSrc, path: r, index: this.indx, data: this.rtn});\n\n\t\t\t\t},\n\t\t\t\tfail: (res)=>{\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: \"error1\",\n\t\t\t\t\t\tduration: 2000,\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\tcomplete: () => {\n\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\tthis.noBar || uni.showTabBar();\n\t\t\t\t}\n\t\t\t}, this);\n\t\t},\n\t\tfPrvUpload() {\n\t\t\tif(this.fPrvUploading)\treturn;\n\t\t\tthis.fPrvUploading = true;\n\t\t\tsetTimeout(()=>{ this.fPrvUploading = false; }, 1000)\n\t\t\t\n\t\t\tlet style = this.selStyle,\n\t\t\t\tdestWidth = parseInt(style.width),\n\t\t\t\tdestHeight = parseInt(style.height),\n\t\t\t\tprvX = this.prvX,\n\t\t\t\tprvY = this.prvY,\n\t\t\t\tprvWidth = this.prvWidth,\n\t\t\t\tprvHeight = this.prvHeight,\n\t\t\t\texpWidth = this.exportWidth || prvWidth,\n\t\t\t\texpHeight = this.exportHeight || prvHeight;\n\t\t\t\t\n\n\n\n\n\n\n\t\t\t\t\n\t\t\tuni.showLoading({ mask: true });\n\t\t\t\n\t\t\tthis.styleDisplay = 'none';\n\t\t\tthis.styleTop = '-10000px';\n\t\t\tthis.hasSel = false;\n\t\t\tthis.fHideImg();\n\t\t\tuni.canvasToTempFilePath({\n\t\t\t\tx: prvX,\n\t\t\t\ty: prvY,\n\t\t\t\twidth: prvWidth,\n\t\t\t\theight: prvHeight,\n\t\t\t\tdestWidth: expWidth,\n\t\t\t\tdestHeight: expHeight,\n\t\t\t\tcanvasId: 'prv-canvas',\n\t\t\t\tfileType: 'png',\n\t\t\t\tquality: this.qlty,\n\t\t\t\tsuccess: (r)=>{\n\t\t\t\t\tr = r.tempFilePath;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\t\t\t\t\tthis.$emit(\"upload\", {avatar: this.imgSrc, path: r, index: this.indx, data: this.rtn});\n\n\t\t\t\t},\n\t\t\t\tfail: ()=>{\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: \"error_prv\",\n\t\t\t\t\t\tduration: 2000,\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\tcomplete: () => {\n\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\tthis.noBar || uni.showTabBar();\n\t\t\t\t}\n\t\t\t}, this);\n\t\t},\n\t\tfDrawInit(ini=false) {\n\t\t\tlet allWidth = this.windowWidth,\n\t\t\t\tallHeight = this.windowHeight,\n\t\t\t\timgWidth = this.imgWidth,\n\t\t\t\timgHeight = this.imgHeight,\n\t\t\t\timgRadio = imgWidth/imgHeight,\n\t\t\t\tuseWidth = allWidth - 40,\n\t\t\t\tuseHeight = allHeight - tabHeight - 80,\n\t\t\t\tpixelRatio = this.pixelRatio,\n\t\t\t\tselWidth = parseInt(this.selStyle.width),\n\t\t\t\tselHeight = parseInt(this.selStyle.height);\n\t\t\t\n\t\t\tthis.fixWidth = 0;\n\t\t\tthis.fixHeight = 0;\n\t\t\tthis.lckWidth = 0;\n\t\t\tthis.lckHeight = 0;\n\t\t\tswitch(this.stc) {\n\t\t\t\tcase 'x': this.fixWidth = 1; break;\n\t\t\t\tcase 'y': this.fixHeight = 1; break;\n\t\t\t\tcase 'long': if(imgRadio > 1) this.fixWidth = 1; else this.fixHeight = 1; break;\n\t\t\t\tcase 'short': if(imgRadio > 1) this.fixHeight = 1; else this.fixWidth = 1; break;\n\t\t\t\tcase 'longSel': if(selWidth > selHeight) this.fixWidth = 1; else this.fixHeight = 1; break;\n\t\t\t\tcase 'shortSel': if(selWidth > selHeight) this.fixHeight = 1; else this.fixWidth = 1; break;\n\t\t\t}\n\t\t\tswitch(this.lck) {\n\t\t\t\tcase 'x': this.lckWidth = 1; break;\n\t\t\t\tcase 'y': this.lckHeight = 1; break;\n\t\t\t\tcase 'long': if(imgRadio > 1) this.lckWidth = 1; else this.lckHeight = 1; break;\n\t\t\t\tcase 'short': if(imgRadio > 1) this.lckHeight = 1; else this.lckWidth = 1; break;\n\t\t\t\tcase 'longSel': if(selWidth > selHeight) this.lckWidth = 1; else this.lckHeight = 1; break;\n\t\t\t\tcase 'shortSel': if(selWidth > selHeight) this.lckHeight = 1; else this.lckWidth = 1; break;\n\t\t\t}\n\t\t\tif( this.fixWidth ) {\n\t\t\t\tuseWidth = selWidth;\n\t\t\t\tuseHeight = useWidth/imgRadio;\n\t\t\t} else if( this.fixHeight ) {\n\t\t\t\tuseHeight = selHeight;\n\t\t\t\tuseWidth = useHeight*imgRadio;\n\t\t\t} else if( imgRadio < 1 ) {\n\t\t\t\tif( imgHeight < useHeight ) {\n\t\t\t\t\tuseWidth = imgWidth;\n\t\t\t\t\tuseHeight = imgHeight;\n\t\t\t\t} else {\n\t\t\t\t\tuseHeight = useHeight;\n\t\t\t\t\tuseWidth = useHeight*imgRadio;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif( imgWidth < useWidth ) {\n\t\t\t\t\tuseWidth = imgWidth;\n\t\t\t\t\tuseHeight = imgHeight;\n\t\t\t\t} else {\n\t\t\t\t\tuseWidth = useWidth;\n\t\t\t\t\tuseHeight = useWidth/imgRadio;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif( this.isin ) {\n\t\t\t\tthis.scaleWidth = 0;\n\t\t\t\tthis.scaleHeight = 0;\n\t\t\t\tif(useWidth < selWidth) {\n\t\t\t\t\tuseWidth = selWidth;\n\t\t\t\t\tuseHeight = useWidth/imgRadio;\n\t\t\t\t\tthis.lckHeight = 0;\n\t\t\t\t}\n\t\t\t\tif(useHeight < selHeight) {\n\t\t\t\t\tuseHeight = selHeight;\n\t\t\t\t\tuseWidth = useHeight*imgRadio;\n\t\t\t\t\tthis.lckWidth = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tthis.scaleSize = 1;\n\t\t\tthis.rotateDeg = 0;\n\t\t\tthis.posWidth = (allWidth-useWidth)/2;\n\t\t\tthis.posHeight = (allHeight-useHeight-tabHeight)/2;\n\t\t\tthis.useWidth = useWidth;\n\t\t\tthis.useHeight = useHeight;\n\t\t\t\n\t\t\tlet style = this.selStyle,\n\t\t\t\tleft = parseInt(style.left),\n\t\t\t\ttop = parseInt(style.top),\n\t\t\t\twidth = parseInt(style.width),\n\t\t\t\theight = parseInt(style.height),\n\t\t\t\tcanvas = this.canvas,\n\t\t\t\tcanvasOper = this.canvasOper,\n\t\t\t\tctxCanvas = this.ctxCanvas,\n\t\t\t\tctxCanvasOper = this.ctxCanvasOper;\n\t\t\t\t\n\t\t\tctxCanvasOper.setLineWidth(3);\n\t\t\tctxCanvasOper.setStrokeStyle('grey');\n\t\t\tctxCanvasOper.setGlobalAlpha(0.4);\n\t\t\tctxCanvasOper.setFillStyle('black');\n\t\t\tctxCanvasOper.strokeRect( left, top, width, height );\n\t\t\tctxCanvasOper.fillRect(0, 0, this.windowWidth, top);\n\t\t\tctxCanvasOper.fillRect(0, top, left, height);\n\t\t\tctxCanvasOper.fillRect(0, top+height, this.windowWidth, this.windowHeight-height-top-tabHeight);\n\t\t\tctxCanvasOper.fillRect(left+width, top,this.windowWidth-width-left, height);\n\t\t\tctxCanvasOper.setStrokeStyle('red');\n\t\t\tctxCanvasOper.moveTo(left+20, top);ctxCanvasOper.lineTo(left, top);ctxCanvasOper.lineTo(left, top+20);\n\t\t\tctxCanvasOper.moveTo(left+width-20, top);ctxCanvasOper.lineTo(left+width, top);ctxCanvasOper.lineTo(left+width, top+20);\n\t\t\tctxCanvasOper.moveTo(left+20, top+height);ctxCanvasOper.lineTo(left, top+height);ctxCanvasOper.lineTo(left, top+height-20);\n\t\t\tctxCanvasOper.moveTo(left+width-20, top+height);ctxCanvasOper.lineTo(left+width, top+height);ctxCanvasOper.lineTo(left+width, top+height-20);\n\t\t\tctxCanvasOper.stroke();\n\t\t\t\n\t\t\tctxCanvasOper.draw(false, ()=>{\n\t\t\t\tif( ini ) {\n\t\t\t\t\tthis.styleDisplay = 'flex';\n\n\n\n\n\t\t\t\t\tthis.styleTop = '0';\n\n\t\t\t\t\tctxCanvas.setFillStyle('black');\n\t\t\t\t\tthis.fDrawImage();\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tthis.$emit(\"avtinit\");\n\t\t},\n\t\tfDrawImage() {\n\t\t\tlet tm_now = Date.now();\n\t\t\tif(tm_now - this.drawTm < 20) return;\n\t\t\tthis.drawTm = tm_now;\n\t\t\tlet ctxCanvas = this.ctxCanvas;\n\t\t\tctxCanvas.fillRect(0, 0, this.windowWidth, this.windowHeight-tabHeight);\n\t\t\tctxCanvas.translate(this.posWidth+this.useWidth/2, this.posHeight+this.useHeight/2);\n\t\t\tctxCanvas.scale(this.scaleSize, this.scaleSize);\n\t\t\tctxCanvas.rotate(this.rotateDeg * Math.PI/180);\n\t\t\tctxCanvas.drawImage(this.imgPath, -this.useWidth/2, -this.useHeight/2, this.useWidth, this.useHeight);\n\t\t\tctxCanvas.draw(false);\n\t\t},\n\t\tfHideImg() {\n\t\t\tthis.prvImg = '';\n\t\t\tthis.prvTop = '-10000px';\n\t\t\tthis.showOper = true;\n\t\t\tthis.prvImgData = null;\n\t\t\tthis.target = null;\n\t\t},\n\t\tfClose() {\n\t\t\tthis.styleDisplay = 'none';\n\t\t\tthis.styleTop = '-10000px';\n\t\t\tthis.hasSel = false;\n\t\t\tthis.fHideImg();\n\t\t\tthis.noBar || uni.showTabBar();\n\t\t},\n\t\tfPreview() {\n\t\t\tif(this.fPreviewing) return;\n\t\t\tthis.fPreviewing = true;\n\t\t\tsetTimeout(()=>{ this.fPreviewing = false; }, 1000);\n\t\t\t\n\t\t\tlet style = this.selStyle,\n\t\t\t\tx = parseInt(style.left),\n\t\t\t\ty = parseInt(style.top),\n\t\t\t\twidth = parseInt(style.width),\n\t\t\t\theight = parseInt(style.height);\n\t\t\t\t\n\n\n\n\n\t\t\t\n\t\t\tuni.showLoading({ mask: true });\n\t\t\t\n\t\t\tuni.canvasToTempFilePath({\n\t\t\t\tx: x,\n\t\t\t\ty: y,\n\t\t\t\twidth: width,\n\t\t\t\theight: height,\n\t\t\t\tcanvasId: 'avatar-canvas',\n\t\t\t\tfileType: 'png',\n\t\t\t\tquality: this.qlty,\n\t\t\t\tsuccess: (r)=>{\n\t\t\t\t\tthis.prvImgTmp = r = r.tempFilePath;\n\t\t\t\t\t\n\t\t\t\t\tlet ctxCanvasPrv = this.ctxCanvasPrv,\n\t\t\t\t\t\tprvX = this.windowWidth,\n\t\t\t\t\t\tprvY = parseInt(this.cvsStyleHeight),\n\t\t\t\t\t\tprvWidth = parseInt(this.selStyle.width),\n\t\t\t\t\t\tprvHeight = parseInt(this.selStyle.height),\n\t\t\t\t\t\tuseWidth = prvX - 40,\n\t\t\t\t\t\tuseHeight = prvY - 80,\n\t\t\t\t\t\tradio = useWidth/prvWidth,\n\t\t\t\t\t\trHeight = prvHeight*radio;\n\t\t\t\t\t\tif(rHeight < useHeight) {\n\t\t\t\t\t\t\tprvWidth = useWidth;\n\t\t\t\t\t\t\tprvHeight = rHeight;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tradio = useHeight/prvHeight;\n\t\t\t\t\t\t\tprvWidth *= radio;\n\t\t\t\t\t\t\tprvHeight = useHeight;\n\t\t\t\t\t\t}\n\t\t\t\t\tctxCanvasPrv.setFillStyle('black');\n\t\t\t\t\tctxCanvasPrv.fillRect(0, 0, prvX, prvY);\n\t\t\t\t\tthis.prvX = prvX = (prvX-prvWidth)/2;\n\t\t\t\t\tthis.prvY = prvY = (prvY-prvHeight)/2;\n\t\t\t\t\tthis.prvWidth = prvWidth;\n\t\t\t\t\tthis.prvHeight = prvHeight;\n\t\t\t\t\tctxCanvasPrv.drawImage(r, prvX, prvY, prvWidth, prvHeight);\n\t\t\t\t\tctxCanvasPrv.draw(false);\n\t\t\t\t\t\n\n\n\n\n\n\n\n\t\t\t\t\tif( this.platform != 'android' ) {\n\t\t\t\t\t\tthis.showOper = false;\n\t\t\t\t\t}\n\t\t\t\t\tthis.prvTop = '0';\n\n\t\t\t\t},\n\t\t\t\tfail: ()=>{\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: \"error2\",\n\t\t\t\t\t\tduration: 2000,\n\t\t\t\t\t})\n\t\t\t\t}, \n\t\t\t\tcomplete: () => {\n\t\t\t\t\tuni.hideLoading();\n\t\t\t\t}\n\t\t\t}, this);\n\t\t},\n\t\tfChooseImg(index=undefined, params=undefined, data=undefined) {\n\t\t\tif(params) {\n\t\t\t\tlet selWidth = params.selWidth,\n\t\t\t\t\tselHeight = params.selHeight,\n\t\t\t\t\texpWidth = params.expWidth,\n\t\t\t\t\texpHeight = params.expHeight,\n\t\t\t\t\tquality = params.quality,\n\t\t\t\t\tcanRotate = params.canRotate,\n\t\t\t\t\tcanScale = params.canScale,\n\t\t\t\t\tminScale = params.minScale,\n\t\t\t\t\tmaxScale = params.maxScale,\n\t\t\t\t\tstretch = params.stretch,\n\t\t\t\t\tinner = params.inner,\n\t\t\t\t\tlock = params.lock;\n\t\t\t\t\t\n\t\t\t\texpWidth && (this.exportWidth = expWidth.indexOf('upx') >= 0 ? parseInt(expWidth)*this.pxRatio : parseInt(expWidth));\n\t\t\t\texpHeight && (this.exportHeight = expHeight.indexOf('upx') >= 0 ? parseInt(expHeight)*this.pxRatio : parseInt(expHeight));\n\t\t\t\tthis.letRotate = canRotate === 'false' ? 0 : 1;\n\t\t\t\tthis.letScale = canScale === 'false' ? 0 : 1;\n\t\t\t\tthis.qlty = parseInt(quality) || 0.9;\n\t\t\t\tthis.mnScale = minScale || 0.3;\n\t\t\t\tthis.mxScale = maxScale || 4;\n\t\t\t\tthis.stc = stretch;\n\t\t\t\tthis.isin = inner === 'true' ? 1 : 0;\n\t\t\t\tthis.lck = lock;\n\t\t\t\tif(this.isin) {\n\t\t\t\t\tthis.btnWidth = '24%';\n\t\t\t\t\tthis.btnDsp = 'none';\n\t\t\t\t} else {\n\t\t\t\t\tthis.btnWidth = '19%';\n\t\t\t\t\tthis.btnDsp = 'flex';\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif( selWidth && selHeight) {\n\t\t\t\t\tselWidth  = selWidth.indexOf('upx')  >= 0 ? parseInt(selWidth)  * this.pxRatio: parseInt(selWidth);\n\t\t\t\t\tselHeight = selHeight.indexOf('upx') >= 0 ? parseInt(selHeight) * this.pxRatio: parseInt(selHeight);\n\t\t\t\t\tthis.selStyle.width = selWidth + 'px';\n\t\t\t\t\tthis.selStyle.height = selHeight + 'px';\n\t\t\t\t\tthis.selStyle.top = (this.windowHeight - selHeight - tabHeight)/2 + 'px';\n\t\t\t\t\tthis.selStyle.left = (this.windowWidth - selWidth)/2 + 'px';\n\t\t\t\t\tthis.hasSel = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.rtn = data;\n\t\t\tthis.indx = index;\n\t\t\tthis.fSelect();\n\t\t},\n\t\tfRotate() {\n\n\n\n\n\n\n\n\t\t\t\n\t\t\t// if(this.letRotate) {\n\t\t\t\tthis.rotateDeg += 90 - this.rotateDeg%90;\n\t\t\t\tthis.fDrawImage();\n\t\t\t// }\n\t\t},\n\t\tfStart(e) {\n\t\t\tlet touches = e.touches,\n\t\t\ttouch0 = touches[0],\n\t\t\ttouch1 = touches[1];\n\t\t\t\n\t\t\tthis.touch0 = touch0;\n\t\t\tthis.touch1 = touch1;\n\t\t\t\n\t\t\tif( touch1 ) {\n\t\t\t\tlet x = touch1.x - touch0.x,\n\t\t\t\t\ty = touch1.y - touch0.y;\n\t\t\t\tthis.fgDistance = Math.sqrt(x * x + y * y);\n\t\t\t}\n\t\t},\n\t\tfMove(e) {\n\t\t\tlet touches = e.touches,\n\t\t\t\ttouch0 = touches[0],\n\t\t\t\ttouch1 = touches[1];\n\t\t\t\n\t\t\tif( touch1 ) {\n\t\t\t\tlet x = touch1.x - touch0.x,\n\t\t\t\t\ty = touch1.y - touch0.y,\n\t\t\t\t\tfgDistance = Math.sqrt(x * x + y * y),\n\t\t\t\t\tscaleSize = 0.005 * (fgDistance - this.fgDistance),\n\t\t\t\t\tbeScaleSize = this.scaleSize + scaleSize;\n\t\t\t\t\t\n\t\t\t\tdo\t{\n\t\t\t\t\tif( !this.letScale ) break;\n\t\t\t\t\tif( beScaleSize < this.mnScale) break;\n\t\t\t\t\tif( beScaleSize > this.mxScale) break;\n\t\t\t\t\tif(this.isin) {\n\t\t\t\t\t\tlet\timgWidth = this.useWidth*beScaleSize,\n\t\t\t\t\t\t\timgHeight = this.useHeight*beScaleSize,\n\t\t\t\t\t\t\trx0 = this.posWidth+this.useWidth/2,\n\t\t\t\t\t\t\try0 = this.posHeight+this.useHeight/2,\n\t\t\t\t\t\t\tl = rx0-imgWidth/2, t = ry0-imgHeight/2,\n\t\t\t\t\t\t\tr = l+imgWidth,\t    b = t+imgHeight,\n\t\t\t\t\t\t\tleft = parseInt(this.selStyle.left),\n\t\t\t\t\t\t\ttop = parseInt(this.selStyle.top),\n\t\t\t\t\t\t\twidth = parseInt(this.selStyle.width),\n\t\t\t\t\t\t\theight = parseInt(this.selStyle.height);\n\t\t\t\t\t\t\tif(left < l || left+width > r || top < t || top+height > b) break;\n\t\t\t\t\t\t\tthis.scaleWidth = (this.useWidth-imgWidth)/2;\n\t\t\t\t\t\t\tthis.scaleHeight = (this.useHeight-imgHeight)/2;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tthis.scaleSize = beScaleSize;\n\t\t\t\t} while(0);\n\t\t\t\tthis.fgDistance = fgDistance;\n\t\t\n\t\t\t\tif(touch1.x !== touch0.x && this.letRotate) {\n\t\t\t\t\tx = (this.touch1.y - this.touch0.y)/(this.touch1.x - this.touch0.x);\n\t\t\t\t\ty = (touch1.y - touch0.y)/(touch1.x - touch0.x);\n\t\t\t\t\tthis.rotateDeg += Math.atan((y-x)/(1+x*y)) * 180/Math.PI;\n\t\t\t\t\tthis.touch0 = touch0;\n\t\t\t\t\tthis.touch1 = touch1;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.fDrawImage();\n\t\t\t} else if( this.touch0 ) {\n\t\t\t\tlet x = touch0.x - this.touch0.x,\n\t\t\t\t\ty = touch0.y - this.touch0.y,\n\t\t\t\t\tbeX = this.posWidth + x,\n\t\t\t\t\tbeY = this.posHeight + y;\n\t\t\t\tif(this.isin) {\n\t\t\t\t\tlet\timgWidth = this.useWidth*this.scaleSize,\n\t\t\t\t\t\timgHeight = this.useHeight*this.scaleSize,\n\t\t\t\t\t\trx0 = beX+this.useWidth/2,\n\t\t\t\t\t\try0 = beY+this.useHeight/2,\n\t\t\t\t\t\tl = rx0-imgWidth/2, t = ry0-imgHeight/2,\n\t\t\t\t\t\tr = l+imgWidth,\t    b = t+imgHeight,\n\t\t\t\t\t\tleft = parseInt(this.selStyle.left),\n\t\t\t\t\t\ttop = parseInt(this.selStyle.top),\n\t\t\t\t\t\twidth = parseInt(this.selStyle.width),\n\t\t\t\t\t\theight = parseInt(this.selStyle.height);\n\t\t\t\t\t\tif(!this.lckWidth && Math.abs(x) < 100) {\n\t\t\t\t\t\t\tif(left >= l && left+width <= r) {\n\t\t\t\t\t\t\t\tthis.posWidth  = beX;\n\t\t\t\t\t\t\t} else if(left < l){\n\t\t\t\t\t\t\t\tthis.posWidth = left - this.scaleWidth; \n\t\t\t\t\t\t\t} else if(left+width > r) {\n\t\t\t\t\t\t\t\tthis.posWidth = left-(imgWidth-width) - this.scaleWidth;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(!this.lckHeight && Math.abs(y) < 100) {\n\t\t\t\t\t\t\tif(top >= t && top+height <= b) {\n\t\t\t\t\t\t\t\tthis.posHeight  = beY;\n\t\t\t\t\t\t\t} else if(top < t) {\n\t\t\t\t\t\t\t\tthis.posHeight = top - this.scaleHeight;\n\t\t\t\t\t\t\t} else if(top+height > b) {\n\t\t\t\t\t\t\t\tthis.posHeight = top-(imgHeight-height) - this.scaleHeight;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif( Math.abs(x) < 100 && !this.lckWidth) this.posWidth  = beX;\n\t\t\t\t\tif( Math.abs(y) < 100 && !this.lckHeight) this.posHeight = beY;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.touch0 = touch0;\n\t\t\t\tthis.fDrawImage();\n\t\t\t}\n\t\t},\n\t\tfEnd(e) {\n\t\t\tlet touches = e.touches,\n\t\t\t\ttouch0 = touches && touches[0],\n\t\t\t\ttouch1 = touches && touches[1];\n\t\t\tif(touch0) {\n\t\t\t\tthis.touch0 = touch0;\n\t\t\t} else {\n\t\t\t\tthis.touch0 = null;\n\t\t\t\tthis.touch1 = null;\n\t\t\t}\n\t\t},\n\t\tfGetImgData() {\n\t\t\treturn new Promise((resolve, reject)=>{\n\t\t\t\tlet prvX = this.prvX,\n\t\t\t\t\tprvY = this.prvY,\n\t\t\t\t\tprvWidth = this.prvWidth,\n\t\t\t\t\tprvHeight = this.prvHeight;\n\n\n\n\n\n\n\t\t\t\tuni.canvasGetImageData({\n\t\t\t\t\tcanvasId: 'prv-canvas',\n\t\t\t\t\tx: prvX,\n\t\t\t\t\ty: prvY,\n\t\t\t\t\twidth: prvWidth,\n\t\t\t\t\theight: prvHeight,\n\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\tresolve(res.data);\n\t\t\t\t\t},\n\t\t\t\t\tfail(err) {\n\t\t\t\t\t\treject(err);\n\t\t\t\t\t}\n\t\t\t\t}, this);\n\t\t\t});\n\t\t},\n\t\tasync fColorChange(e) {\n\t\t\tlet tm_now = Date.now();\n\t\t\tif(tm_now - this.prvTm < 100) return;\n\t\t\tthis.prvTm = tm_now;\n\t\t\t\n\t\t\tuni.showLoading({ mask: true });\n\t\t\t\n\t\t\tif( !this.prvImgData ) {\n\t\t\t\tif( !(this.prvImgData = await this.fGetImgData().catch((res)=>{\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: \"error_read\",\n\t\t\t\t\t\tduration: 2000,\n\t\t\t\t\t})\n\t\t\t\t}))) return;\n\t\t\t\tthis.target = new Uint8ClampedArray(this.prvImgData.length);\n\t\t\t}\n\t\t\t\n\t\t\tlet data = this.prvImgData,\n\t\t\t\ttarget = this.target,\n\t\t\t\ti = e.detail.value,\n\t\t\t\tr,g,b,a,h,s,l,d,p,q,t,min,max,hK,tR,tG,tB;\n\t\t\t\t\n\t\t\tif( i === 0 ) {\n\t\t\t\ttarget = data;\n\t\t\t} else {\n\t\t\t\ti = (i+100)/200;\n\t\t\t\tif( i < 0.005 ) i = 0;\n\t\t\t\tif( i > 0.995 ) i = 1;\n\t\t\t\tfor( let n = data.length-1; n >= 0; n-=4 ) {\n\t\t\t\t\tr = data[n-3] / 255;\n\t\t\t\t\tg = data[n-2] / 255;\n\t\t\t\t\tb = data[n-1] / 255;\n\t\t\t\t\tmax = Math.max(r,g,b);\n\t\t\t\t\tmin = Math.min(r,g,b);\n\t\t\t\t\td = max-min;\n\t\t\t\t\tif ( max === min ){\n\t\t\t\t\t\th = 0 ;\n\t\t\t\t\t}else if( max === r && g>=b ){\n\t\t\t\t\t\th = 60*( (g-b)/d ) ;\n\t\t\t\t\t}else if( max === r && g<b ){\n\t\t\t\t\t\th = 60*( (g-b)/d ) + 360 ;\n\t\t\t\t\t}else if( max === g ){\n\t\t\t\t\t\th = 60*( (b-r)/d ) + 120 ;\n\t\t\t\t\t}else if( max === b ){\n\t\t\t\t\t\th = 60*( (r-g)/d ) + 240 ;\n\t\t\t\t\t}\n\t\t\t\t\tl = (max+min)/2 ;\n\t\t\t\t\tif ( l===0 || max===min ){\n\t\t\t\t\t\ts = 0 ;\n\t\t\t\t\t}else if( 0<l && l<=0.5 ){\n\t\t\t\t\t\ts = d/(2*l) ;\n\t\t\t\t\t}else if( l>0.5 ){\n\t\t\t\t\t\ts = d/(2-2*l) ;\n\t\t\t\t\t}\n\t\t\t\t\tdata[n] && (a = data[n]);\n\t\t\t\t\t\n\t\t\t\t\tif ( i < 0.5 ){\n\t\t\t\t\t\ts = s*i/0.5 ;\n\t\t\t\t\t}else if ( i > 0.5 ){\n\t\t\t\t\t\ts = 2*s + 2*i - (s*i/0.5) - 1 ;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif ( s === 0 ){\n\t\t\t\t\t\tr = g = b = Math.round( l*255 ) ;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tif ( l<0.5 ){\n\t\t\t\t\t\t\tq = l * ( 1 + s ) ;\n\t\t\t\t\t\t}else if( l>=0.5 ){\n\t\t\t\t\t\t\tq = l + s - ( l * s ) ;\n\t\t\t\t\t\t}      \n\t\t\t\t\t\tp = 2*l-q ;\n\t\t\t\t\t\thK = h/360 ;\n\t\t\t\t\t\ttR = hK + 1/3 ;\n\t\t\t\t\t\ttG = hK ;\n\t\t\t\t\t\ttB = hK - 1/3 ;\n\t\t\t\t\t\tlet correctRGB = (t)=>{\n\t\t\t\t\t\t\tif( t<0 ){\n\t\t\t\t\t\t\t\treturn t + 1.0 ;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif( t>1 ){\n\t\t\t\t\t\t\t\treturn t - 1.0 ;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn t ;\n\t\t\t\t\t\t} ;\n\t\t\t\t\t\tlet createRGB = (t)=>{\n\t\t\t\t\t\t\tif ( t<(1/6) ){\n\t\t\t\t\t\t\t\treturn p+((q-p)*6*t) ;\n\t\t\t\t\t\t\t}else if( t>=(1/6) && t<(1/2) ){\n\t\t\t\t\t\t\t\treturn q ;\n\t\t\t\t\t\t\t}else if( t>=(1/2) && t<(2/3) ){\n\t\t\t\t\t\t\t\treturn p+((q-p)*6*((2/3)-t)) ;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn p ;\n\t\t\t\t\t\t} ;\n\t\t\t\t\t\tr = tR = Math.round( createRGB( correctRGB( tR ) )*255 ) ;\n\t\t\t\t\t\tg = tG = Math.round( createRGB( correctRGB( tG ) )*255 ) ;\n\t\t\t\t\t\tb = tB = Math.round( createRGB( correctRGB( tB ) )*255 ) ;\n\t\t\t\t\t}\n\t\t\t\t\ta && ( target[n] = a ) ;  \n\t\t\t\t\ttarget[n-3] = r;\n\t\t\t\t\ttarget[n-2] = g;\n\t\t\t\t\ttarget[n-1] = b;\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet prvX = this.prvX,\n\t\t\t\tprvY = this.prvY,\n\t\t\t\tprvWidth = this.prvWidth,\n\t\t\t\tprvHeight = this.prvHeight;\n\t\t\t\t\n\t\t\tthis.ctxCanvasPrv.setFillStyle('black');\n\t\t\tthis.ctxCanvasPrv.fillRect(prvX, prvY, prvWidth, prvHeight);\n\t\t\tthis.ctxCanvasPrv.draw(true);\n\t\t\t\n\n\n\n\n\n\n\t\t\tuni.canvasPutImageData({\n\t\t\t\tcanvasId: 'prv-canvas',\n\t\t\t\tx: prvX,\n\t\t\t\ty: prvY,\n\t\t\t\twidth: prvWidth,\n\t\t\t\theight: prvHeight,\n\t\t\t\tdata: target,\n\t\t\t\tfail() {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: 'error_put',\n\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\tcomplete() {\n\t\t\t\t\tuni.hideLoading();\n\t\t\t\t}\n\t\t\t}, this);\n\t\t},\n\t\tbtop(base64) {\n\t\t\treturn new Promise(function(resolve, reject) {\n\t\t\t\tvar arr = base64.split(','),\n\t\t\t\t\tmime = arr[0].match(/:(.*?);/)[1],\n\t\t\t\t\tbstr = atob(arr[1]),\n\t\t\t\t\tn = bstr.length,\n\t\t\t\t\tu8arr = new Uint8Array(n);\n\t\t\t\twhile (n--) {\n\t\t\t\t\tu8arr[n] = bstr.charCodeAt(n);\n\t\t\t\t}\n\t\t\t\treturn resolve((window.URL || window.webkitURL).createObjectURL(new Blob([u8arr], { type: mime })));\n\t\t\t});\n\t\t},\n\t}\n}\n","import mod from \"-!../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./yq-avatar.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../Downloads/HBuilderX.2.2.2.20190816.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./yq-avatar.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}